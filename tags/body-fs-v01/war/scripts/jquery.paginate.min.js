(function(f){f.fn.paginate=function(a){var d=f.extend({},f.fn.paginate.defaults,a);return this.each(function(){$this=f(this);var g=f.meta?f.extend({},d,$this.data()):d;f.fn.paginate.draw(g,$this,g.start)})};var p=0,q=0;if(navigator.appVersion.indexOf("MSIE 7.0")>0)var t="ie7";f.fn.paginate.defaults={count:5,start:12,display:5,border:true,border_color:"#fff",text_color:"#8cc59d",background_color:"black",border_hover_color:"#fff",text_hover_color:"#fff",background_hover_color:"#fff",rotate:true,images:true,
mouse:"slide",data:[],onChange:function(){return false}};f.fn.paginate.draw=function(a,d,g){if(a.display>a.count)a.display=a.count;$this.empty();if(a.images){d="jPag-sprevious-img";var h="jPag-previous-img";h="jPag-snext-img";var b="jPag-next-img"}else{d="jPag-sprevious";h="jPag-previous";h="jPag-snext";b="jPag-next"}b=[];b.push('<div class="jPag-control-back">');b.push('<a class="jPag-first">First</a>');if(a.rotate){b.push("<span class='");b.push(d);b.push("'>");a.images||b.push("&laquo;");b.push("</span>")}b.push("</div>");
b.push("<div style='overflow:hidden'><ul class='jPag-pages'>");for(var i=0;i<a.count;i++){var m=i+1;if(f.isArray(a.data)&&a.data.length>0)m=typeof a.data[i]=="object"?a.data[i].value:a.data[i];b.push("<li dataindex='");b.push(i);b.push("'>");if(i+1==g){b.push("<span class='jPag-current'>");b.push(m);b.push("</span>")}else{b.push("<a>");b.push(m);b.push("</a>")}b.push("</li>")}b.push("</ul></div>");b.push('<div class="jPag-control-front">');if(a.rotate){b.push('<span class="');b.push(h);b.push('">');
a.images||b.push("&raquo;");b.push("</span>")}b.push('<a class="jPag-last">Last</a>');b.push("</div>");$this.addClass("jPaginate").append(b.join(""));if(a.border){r=a.background_color=="none"?{color:a.text_color,border:"1px solid "+a.border_color}:{color:a.text_color,"background-color":a.background_color,border:"1px solid "+a.border_color};s=a.background_hover_color=="none"?{color:a.text_hover_color,border:"1px solid "+a.border_hover_color}:{color:a.text_hover_color,"background-color":a.background_hover_color,
border:"1px solid "+a.border_hover_color}}else var r=a.background_color=="none"?{color:a.text_color}:{color:a.text_color,"background-color":a.background_color},s=a.background_hover_color=="none"?{color:a.text_hover_color}:{color:a.text_hover_color,"background-color":a.background_hover_color};var j=$this.find("a.jPag-first"),n=$this.find("ul.jPag-pages"),c=n.parent(),o=$this.find("div.jPag-control-front");g=$this.find("span."+h);d=$this.find("span."+d);h=$this.find("a.jPag-last");var k=n.find("span.jPag-current").parent();
f.fn.paginate.applystyle(a,$this,r,s,j,n,c,o);var l=p-j.parent().width()-3;if(t=="ie7"){c.css("width",l+72+"px");o.css("left",p+6+72+"px")}else{c.css("width",l+"px");o.css("left",p+6+"px")}if(a.rotate){g.hover(function(){thumbs_scroll_interval=setInterval(function(){var e=c.scrollLeft()+1;c.scrollLeft(e)},20)},function(){clearInterval(thumbs_scroll_interval)});d.hover(function(){thumbs_scroll_interval=setInterval(function(){var e=c.scrollLeft()-1;c.scrollLeft(e)},20)},function(){clearInterval(thumbs_scroll_interval)});
if(a.mouse=="press"){g.mousedown(function(){thumbs_mouse_interval=setInterval(function(){var e=c.scrollLeft()+5;c.scrollLeft(e)},20)}).mouseup(function(){clearInterval(thumbs_mouse_interval)});d.mousedown(function(){thumbs_mouse_interval=setInterval(function(){var e=c.scrollLeft()-5;c.scrollLeft(e)},20)}).mouseup(function(){clearInterval(thumbs_mouse_interval)})}else{d.click(function(){var e=l-10;e=c.scrollLeft()-e;c.animate({scrollLeft:e+"px"})});g.click(function(){var e=l-10;e=c.scrollLeft()+e;
c.animate({scrollLeft:e+"px"})})}}j.click(function(){c.animate({scrollLeft:"0px"});c.find("li").eq(0).click()});h.click(function(){c.animate({scrollLeft:q+"px"});c.find("li").eq(a.count-1).click()});c.find("li").click(function(){k.length>0&&k.html("<a>"+k.find(".jPag-current").html()+"</a>");var e=f(this).find("a").html();f(this).html('<span class="jPag-current">'+e+"</span>");k=f(this);f.fn.paginate.applystyle(a,f(this).parent().parent().parent(),r,s,j,n,c,o);var u=this.offsetLeft/2;c.scrollLeft();
var v=u-l/2;t=="ie7"?c.animate({scrollLeft:u+v-j.parent().width()+52+"px"}):c.animate({scrollLeft:u+v-j.parent().width()+"px"});a.onChange(e,a.data[f(this).attr("dataindex")])});d=c.find("li").eq(a.start-1);d.attr("id","tmp");g=document.getElementById("tmp").offsetLeft/2;d.removeAttr("id");d=g-l/2;t=="ie7"?c.animate({scrollLeft:g+d-j.parent().width()+52+"px"}):c.animate({scrollLeft:g+d-j.parent().width()+"px"});f.fn.paginate.setpage=function(e){if(e<0){if(!(typeof k=="undefined"||k.length<=0)){k.html("<a>"+
k.find(".jPag-current").html()+"</a>");k=$this.find("#jpag_dummy");f.fn.paginate.applystyle(a,$this,r,s,j,n,c,o)}}else if(e>=a.data.length)alert("Index is out of range");else e>=0&&c.find("li:nth-child("+(e+1)+")").click()}};f.fn.paginate.applystyle=function(a,d,g,h,b,i){d.find("a").css(g);d.find("span.jPag-current").css(h);d.find("a").hover(function(){f(this).css(h)},function(){f(this).css(g)});d.css("padding-left",b.parent().width()+5+"px");q=0;d.find("li").each(function(m){if(m==a.display-1)p=
this.offsetLeft+this.offsetWidth;q+=this.offsetWidth});i.css("width",q+"px")}})(jQuery);